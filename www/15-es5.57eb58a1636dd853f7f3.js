!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{akYc:function(n,i,r){"use strict";r.r(i),r.d(i,"TrackerPageModule",(function(){return J}));var o=r("ofXK"),a=r("3Pt+"),c=r("TEn/"),s=r("tyNb"),u=r("mrSG"),b=r("V1Vp"),l=r("5/M7"),d=r("ifck"),h=r("fXoL"),f=r("e8h1"),p=r("ZL19"),m=["slidingList"];function v(e,t){if(1&e){var n=h.Lb();h.Kb(0,"ion-item-sliding"),h.Kb(1,"ion-item"),h.Ib(2,"ion-icon",11),h.Kb(3,"ion-label"),h.Kb(4,"h2"),h.ic(5),h.Jb(),h.Kb(6,"p"),h.ic(7),h.Vb(8,"date"),h.Jb(),h.Jb(),h.Kb(9,"ion-text",12),h.ic(10),h.Vb(11,"currency"),h.Jb(),h.Jb(),h.Kb(12,"ion-item-options",13),h.Kb(13,"ion-item-option",14),h.Sb("click",(function(){h.dc(n);var e=t.index;return h.Ub().removeTransaction(e)})),h.Ib(14,"ion-icon",15),h.Jb(),h.Jb(),h.Jb()}if(2&e){var i=t.$implicit,r=h.Ub();h.xb(2),h.gc("background-color: ",i.category.color,";"),h.ac("name",i.category.icon),h.xb(3),h.jc(i.title),h.xb(2),h.jc(h.Wb(8,9,i.created_at,"MMM dd, HH:mm")),h.xb(2),h.ac("color",i.type?"success":"danger"),h.xb(1),h.lc(" ",i.type?"+":"-","",h.Xb(11,12,i.value,r.selectedCurrency,"symbol")," ")}}var g,y,w,k=[{path:"",component:(g=function(){function n(t,i,r,o,a,c){var s=this;e(this,n),this.modalCtrl=t,this.cashService=i,this.plt=r,this.storage=o,this.popoverCtrl=a,this.admobFree=c,this.selectedCurrency="",this.transactions=[],this.allTransactions=[],this.cashflow=0,r.ready().then((function(){s.showAds()}))}var i,r,o;return i=n,(r=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.plt.ready();case 2:this.loadTransactions();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"addCashflow",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:l.a,cssClass:"modalCss"});case 2:(t=e.sent).present(),t.onDidDismiss().then((function(e){e&&e.data&&n.loadTransactions()}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"loadTransactions",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.get("selected-currency").then((function(e){t.selectedCurrency=e.toUpperCase()}));case 2:return e.next=4,this.cashService.getTransactions().then((function(e){t.transactions=e,t.allTransactions=e}));case 4:this.updateCashflow();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"removeTransaction",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.transactions.splice(e,1),this.cashService.updateTransactions(this.transactions),t.next=4,this.slidingList.closeSlidingItems();case 4:this.updateCashflow();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateCashflow",value:function(){var e=0;this.transactions.map((function(t){e+=t.type==b.a.Expense?-t.value:t.value})),this.cashflow=e}},{key:"openFilter",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverCtrl.create({component:d.a,event:e});case 2:return n=t.sent,t.next=5,n.present();case 5:n.onDidDismiss().then((function(e){if(e&&e.data){var t=e.data.selected.name;i.transactions="All"==t?i.allTransactions:i.allTransactions.filter((function(e){return e.category.name==t}))}}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"showAds",value:function(){var e=this;this.admobFree.banner.config({autoShow:!0,id:"ca-app-pub-6991102113091771/6963195105"}),this.admobFree.banner.prepare().then((function(){e.admobFree.banner.show()})),this.admobFree.interstitial.config({autoShow:!0,id:"ca-app-pub-6991102113091771/5458541744"}),this.admobFree.interstitial.prepare().then((function(){e.admobFree.interstitial.show()}))}}])&&t(i.prototype,r),o&&t(i,o),n}(),g.\u0275fac=function(e){return new(e||g)(h.Hb(c.P),h.Hb(b.b),h.Hb(c.R),h.Hb(f.b),h.Hb(c.S),h.Hb(p.a))},g.\u0275cmp=h.Bb({type:g,selectors:[["app-tracker"]],viewQuery:function(e,t){var n;1&e&&h.mc(m,!0),2&e&&h.cc(n=h.Tb())&&(t.slidingList=n.first)},decls:22,vars:6,consts:[["slot","start"],["vertical","top","horizontal","end","slot","fixed","edge",""],[3,"click"],["name","add"],["vertical","bottom","horizontal","end","slot","fixed","edge",""],["color","light",3,"click"],["name","funnel"],["slidingList",""],[4,"ngFor","ngForOf"],["color","secondary",1,"ion-text-center"],["value","1"],["slot","start","color","light",1,"category-icon",3,"name"],["slot","end",3,"color"],["side","end"],["color","danger",3,"click"],["name","trash","slot","icon-only"]],template:function(e,t){1&e&&(h.Kb(0,"ion-header"),h.Kb(1,"ion-toolbar"),h.Kb(2,"ion-buttons",0),h.Ib(3,"ion-menu-button"),h.Jb(),h.Kb(4,"ion-title"),h.ic(5,"Tracker"),h.Jb(),h.Jb(),h.Jb(),h.Kb(6,"ion-content"),h.Kb(7,"ion-fab",1),h.Kb(8,"ion-fab-button",2),h.Sb("click",(function(){return t.addCashflow()})),h.Ib(9,"ion-icon",3),h.Jb(),h.Jb(),h.Kb(10,"ion-fab",4),h.Kb(11,"ion-fab-button",5),h.Sb("click",(function(e){return t.openFilter(e)})),h.Ib(12,"ion-icon",6),h.Jb(),h.Jb(),h.Kb(13,"ion-list",null,7),h.hc(15,v,15,16,"ion-item-sliding",8),h.Jb(),h.Jb(),h.Kb(16,"ion-footer"),h.Kb(17,"ion-toolbar",9),h.Ib(18,"ion-progress-bar",10),h.Kb(19,"b"),h.ic(20),h.Vb(21,"currency"),h.Jb(),h.Jb(),h.Jb()),2&e&&(h.xb(15),h.ac("ngForOf",t.transactions),h.xb(5),h.jc(h.Xb(21,2,t.cashflow,t.selectedCurrency,"symbol")))},directives:[c.o,c.M,c.c,c.z,c.L,c.j,c.l,c.m,c.p,c.w,o.j,c.n,c.B,c.u,c.r,c.v,c.K,c.t,c.s],pipes:[o.c,o.e],styles:[".category-icon[_ngcontent-%COMP%]{background:#e6e6e6;padding:10px;border-radius:25px;color:var(--ion-color-tertiary)}"]}),g)}],x=((w=function t(){e(this,t)}).\u0275mod=h.Fb({type:w}),w.\u0275inj=h.Eb({factory:function(e){return new(e||w)},imports:[[s.i.forChild(k)],s.i]}),w),J=((y=function t(){e(this,t)}).\u0275mod=h.Fb({type:y}),y.\u0275inj=h.Eb({factory:function(e){return new(e||y)},imports:[[o.b,a.a,c.N,x]]}),y)}}])}();