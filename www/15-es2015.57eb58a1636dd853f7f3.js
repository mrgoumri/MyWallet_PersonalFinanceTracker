(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{akYc:function(t,i,e){"use strict";e.r(i),e.d(i,"TrackerPageModule",(function(){return g}));var n=e("ofXK"),o=e("3Pt+"),s=e("TEn/"),a=e("tyNb"),r=e("mrSG"),c=e("V1Vp"),l=e("5/M7"),b=e("ifck"),d=e("fXoL"),h=e("e8h1"),u=e("ZL19");const p=["slidingList"];function f(t,i){if(1&t){const t=d.Lb();d.Kb(0,"ion-item-sliding"),d.Kb(1,"ion-item"),d.Ib(2,"ion-icon",11),d.Kb(3,"ion-label"),d.Kb(4,"h2"),d.ic(5),d.Jb(),d.Kb(6,"p"),d.ic(7),d.Vb(8,"date"),d.Jb(),d.Jb(),d.Kb(9,"ion-text",12),d.ic(10),d.Vb(11,"currency"),d.Jb(),d.Jb(),d.Kb(12,"ion-item-options",13),d.Kb(13,"ion-item-option",14),d.Sb("click",(function(){d.dc(t);const e=i.index;return d.Ub().removeTransaction(e)})),d.Ib(14,"ion-icon",15),d.Jb(),d.Jb(),d.Jb()}if(2&t){const t=i.$implicit,e=d.Ub();d.xb(2),d.gc("background-color: ",t.category.color,";"),d.ac("name",t.category.icon),d.xb(3),d.jc(t.title),d.xb(2),d.jc(d.Wb(8,9,t.created_at,"MMM dd, HH:mm")),d.xb(2),d.ac("color",t.type?"success":"danger"),d.xb(1),d.lc(" ",t.type?"+":"-","",d.Xb(11,12,t.value,e.selectedCurrency,"symbol")," ")}}const m=[{path:"",component:(()=>{class t{constructor(t,i,e,n,o,s){this.modalCtrl=t,this.cashService=i,this.plt=e,this.storage=n,this.popoverCtrl=o,this.admobFree=s,this.selectedCurrency="",this.transactions=[],this.allTransactions=[],this.cashflow=0,e.ready().then(()=>{this.showAds()})}ngOnInit(){}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.plt.ready(),this.loadTransactions()}))}addCashflow(){return Object(r.a)(this,void 0,void 0,(function*(){let t=yield this.modalCtrl.create({component:l.a,cssClass:"modalCss"});t.present(),t.onDidDismiss().then(t=>{t&&t.data&&this.loadTransactions()})}))}loadTransactions(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.storage.get("selected-currency").then(t=>{this.selectedCurrency=t.toUpperCase()}),yield this.cashService.getTransactions().then(t=>{this.transactions=t,this.allTransactions=t}),this.updateCashflow()}))}removeTransaction(t){return Object(r.a)(this,void 0,void 0,(function*(){this.transactions.splice(t,1),this.cashService.updateTransactions(this.transactions),yield this.slidingList.closeSlidingItems(),this.updateCashflow()}))}updateCashflow(){let t=0;this.transactions.map(i=>{t+=i.type==c.a.Expense?-i.value:i.value}),this.cashflow=t}openFilter(t){return Object(r.a)(this,void 0,void 0,(function*(){const i=yield this.popoverCtrl.create({component:b.a,event:t});yield i.present(),i.onDidDismiss().then(t=>{if(t&&t.data){let i=t.data.selected.name;this.transactions="All"==i?this.allTransactions:this.allTransactions.filter(t=>t.category.name==i)}})}))}showAds(){this.admobFree.banner.config({autoShow:!0,id:"ca-app-pub-6991102113091771/6963195105"}),this.admobFree.banner.prepare().then(()=>{this.admobFree.banner.show()}),this.admobFree.interstitial.config({autoShow:!0,id:"ca-app-pub-6991102113091771/5458541744"}),this.admobFree.interstitial.prepare().then(()=>{this.admobFree.interstitial.show()})}}return t.\u0275fac=function(i){return new(i||t)(d.Hb(s.P),d.Hb(c.b),d.Hb(s.R),d.Hb(h.b),d.Hb(s.S),d.Hb(u.a))},t.\u0275cmp=d.Bb({type:t,selectors:[["app-tracker"]],viewQuery:function(t,i){var e;1&t&&d.mc(p,!0),2&t&&d.cc(e=d.Tb())&&(i.slidingList=e.first)},decls:22,vars:6,consts:[["slot","start"],["vertical","top","horizontal","end","slot","fixed","edge",""],[3,"click"],["name","add"],["vertical","bottom","horizontal","end","slot","fixed","edge",""],["color","light",3,"click"],["name","funnel"],["slidingList",""],[4,"ngFor","ngForOf"],["color","secondary",1,"ion-text-center"],["value","1"],["slot","start","color","light",1,"category-icon",3,"name"],["slot","end",3,"color"],["side","end"],["color","danger",3,"click"],["name","trash","slot","icon-only"]],template:function(t,i){1&t&&(d.Kb(0,"ion-header"),d.Kb(1,"ion-toolbar"),d.Kb(2,"ion-buttons",0),d.Ib(3,"ion-menu-button"),d.Jb(),d.Kb(4,"ion-title"),d.ic(5,"Tracker"),d.Jb(),d.Jb(),d.Jb(),d.Kb(6,"ion-content"),d.Kb(7,"ion-fab",1),d.Kb(8,"ion-fab-button",2),d.Sb("click",(function(){return i.addCashflow()})),d.Ib(9,"ion-icon",3),d.Jb(),d.Jb(),d.Kb(10,"ion-fab",4),d.Kb(11,"ion-fab-button",5),d.Sb("click",(function(t){return i.openFilter(t)})),d.Ib(12,"ion-icon",6),d.Jb(),d.Jb(),d.Kb(13,"ion-list",null,7),d.hc(15,f,15,16,"ion-item-sliding",8),d.Jb(),d.Jb(),d.Kb(16,"ion-footer"),d.Kb(17,"ion-toolbar",9),d.Ib(18,"ion-progress-bar",10),d.Kb(19,"b"),d.ic(20),d.Vb(21,"currency"),d.Jb(),d.Jb(),d.Jb()),2&t&&(d.xb(15),d.ac("ngForOf",i.transactions),d.xb(5),d.jc(d.Xb(21,2,i.cashflow,i.selectedCurrency,"symbol")))},directives:[s.o,s.M,s.c,s.z,s.L,s.j,s.l,s.m,s.p,s.w,n.j,s.n,s.B,s.u,s.r,s.v,s.K,s.t,s.s],pipes:[n.c,n.e],styles:[".category-icon[_ngcontent-%COMP%]{background:#e6e6e6;padding:10px;border-radius:25px;color:var(--ion-color-tertiary)}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(i){return new(i||t)},imports:[[a.i.forChild(m)],a.i]}),t})(),g=(()=>{class t{}return t.\u0275mod=d.Fb({type:t}),t.\u0275inj=d.Eb({factory:function(i){return new(i||t)},imports:[[n.b,o.a,s.N,y]]}),t})()}}]);